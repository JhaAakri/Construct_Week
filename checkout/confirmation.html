<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style/confirmation.css" />
  </head>
  <body>
    <div id="parent">
      <div id="part1">
        <div>
          <img src="https://cdni.iconscout.com/illustration/premium/thumb/woman-getting-order-confirmation-message-4468554-3718554.png" alt="" />
          <h1>Thank You For Your Order!</h1>
          <p>
            Good news, <span id="name"></span>! A shipment from <br />
            our company is headed your way
          </p>
        </div>
      </div>
      <div id="part2">
        <div>
          <div id="heding" style="margin-top: -8.5%;">
            <h3 >SHIPPING ADDRESS:</h3>
          </div>
          <div id="addressdiv">
            <p id="address" style="width: 100%;">
            </p>
          </div>
        </div>
        <div>
          <div id="heding">
            <h3>SUMMARY:</h3>
          </div>
          <div id="ordernodiv">
            <p>Order #:</p>
            <!-- <p></p> -->
            <p id="orderno"></p>
          </div>
          <div id="totalpricediv">
            <p>Order Total:</p>
            <p></p>
            <p id="totalprice"></p>
          </div>
        </div>
      </div>
      <p id="timer" class="timer"></p>
      <div id="part3">
        <div>
          <h1>Get 30% off your next order.</h1>
          <button id="shopagain"><h2>Shop Again</h2></button>
        </div>
      </div>
    </div>
  </body>
  </html>
  <script>
    async function getdata() {
    try {
      let response = await fetch(
        "https://successful-ruby-eel.cyclic.cloud/address/1"
      );
      let data = await response.json();
       console.log(data);
      document.querySelector(
        "#address"
      ).innerText = `${data.full_address} ${data.state} ${data.pin_code}`;
      document.querySelector("#name").innerText = data.fullname;
    } catch (error) {
      console.log(error);
    }
  }
  getdata();
  document.querySelector("#totalprice").innerText = `â‚¹100`;
  document.querySelector("#orderno").innerText = Math.round(
    Math.random() * 1000000
  );
  let count = 12;
      let interval = setInterval(() => {
          document.querySelector(
            "#timer"
          ).innerText = `Redirecting in ${count} sec`;
        count--;
        if (count < 0) {
        //   window.location.assign("/index.html");
          clearInterval(interval);
        }
      }, 1000);
  document.querySelector("#shopagain").addEventListener("click", function () {
    location.href = "./index.html";
  });
</script>
